@model HotelGuestVerifyByPolice_CMS.Models.HotelReg
@{
	ViewBag.Title = "Hotel Registration";
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

@using (Html.BeginForm())

{

    @Html.AntiForgeryToken()

    <div class="form-horizontal">

        <h4>user</h4>

        <hr />

        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        <div class="form-group">

            @Html.LabelFor(model => model.firstName, htmlAttributes: new { @class = "control-label col-md-2" })

            <div class="col-md-10">

                @Html.EditorFor(model => model.firstName, new { htmlAttributes = new { @class = "form-control" } })

                @Html.ValidationMessageFor(model => model.firstName, "", new { @class = "text-danger" })

            </div>

        </div>

        <div class="form-group">

            @Html.LabelFor(model => model.lastName, htmlAttributes: new { @class = "control-label col-md-2" })

            <div class="col-md-10">

                @Html.EditorFor(model => model.lastName, new { htmlAttributes = new { @class = "form-control" } })

                @Html.ValidationMessageFor(model => model.lastName, "", new { @class = "text-danger" })

            </div>

        </div>

        <div class="form-group">

            @Html.LabelFor(model => model.mobile, htmlAttributes: new { @class = "control-label col-md-2" })

            <div class="col-md-10">

                @Html.EditorFor(model => model.mobile, new { htmlAttributes = new { @class = "form-control" } })

                @Html.ValidationMessageFor(model => model.mobile, "", new { @class = "text-danger" })

            </div>

        </div>

        <div class="form-group">

            @Html.LabelFor(model => model.email, htmlAttributes: new { @class = "control-label col-md-2" })

            <div class="col-md-10">

                @Html.EditorFor(model => model.email, new { htmlAttributes = new { @class = "form-control" } })

                @Html.ValidationMessageFor(model => model.email, "", new { @class = "text-danger" })

            </div>

        </div>

        <div class="form-group">

            @Html.LabelFor(model => model.hotelName, htmlAttributes: new { @class = "control-label col-md-2" })

            <div class="col-md-10">

                @Html.EditorFor(model => model.hotelName, new { htmlAttributes = new { @class = "form-control" } })

                @Html.ValidationMessageFor(model => model.hotelName, "", new { @class = "text-danger" })

            </div>

        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.stateId, htmlAttributes: new { @class = "control-label col-md-2" })

            <div class="col-md-10">

                <select id="statelist" name="stateId" class="form-control"></select>

            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.distId, htmlAttributes: new { @class = "control-label col-md-2" })

            <div class="col-md-10">

                <select id="districtlist" name="distId" class="form-control"></select>

            </div>
        </div>
          <div class="form-group">
            @Html.LabelFor(model => model.cityId, htmlAttributes: new { @class = "control-label col-md-2" })

            <div class="col-md-10">

                <select id="citylist" name="cityId" class="form-control"></select>

            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.stationCode, htmlAttributes: new { @class = "control-label col-md-2" })

            <div class="col-md-10">

                <select id="pslist" name="stationCode" class="form-control"></select>

            </div>
        </div>

        <div class="form-group">

            <div class="col-md-offset-2 col-md-10">

                <input type="submit" value="Create" class="btn btn-default" />

            </div>

        </div>

    </div>

}

<div>


    @Html.ActionLink("Back to List", "Index")

</div>
<script>
  

    $(document).ready(function () {

        // For loading all Active States
        $.ajax({
            type: "post",
            url: "/States/StateList",
            datatype: "json",
            traditional: true,
            success: function (data) {
                //console.log(data);
                statelist = '<option value="-1">Select State</option>';
                for (var i = 0; i < data.length; i++) {
                    statelist = statelist + '<option value=' + data[i].stateId + '>' + data[i].stateName + '</option>';
                }
                //district = district + '</select>';
                $('#statelist').html(statelist);
            }
        });


      
        // for loading District List
        $('#statelist').change(function () {

            
            $.ajax({
                type: "post",
                url: "/States/DistrictList",
                data: { stateID: $('#statelist').val() },
                datatype: "json",
                traditional: true,
                success: function (data) {
                    // console.log("Selected State Id:" + $('#statelist').val());
                    // console.log(data);
                    var distlist = '<option value="-1">Select District</option>';
                    for (var i = 0; i < data.length; i++) {
                        distlist = distlist + '<option value=' + data[i].distId + '>' + data[i].distName + '</option>';
                    }
                    $('#districtlist').html(distlist);
                }
            });

        });

        // for loading City List
        $('#districtlist').change(function () {
           

            $.ajax({
                type: "post",
                url: "/States/CityList",
                data: { 'stateID': $('#statelist').val(), 'distID': $('#districtlist').val() },
                datatype: "json",
                traditional: true,
                success: function (data) {
                    // console.log("Selected State Id:" + $('#statelist').val());
                    // console.log(data);
                    var citylist = '<option value="-1">Select City</option>';
                    for (var i = 0; i < data.length; i++) {
                        citylist = citylist + '<option value=' + data[i].cityId + '>' + data[i].cityName + '</option>';
                    }
                    $('#citylist').html(citylist);
                }
            });

        });
        
        // for loading Police Station List
        $('#citylist').change(function () {


            $.ajax({
                type: "post",
                url: "/States/PoliceStationList",
                data: { 'stateID': $('#statelist').val(), 'distID': $('#districtlist').val(), 'cityID': $('#citylist').val() },
                datatype: "json",
                traditional: true,
                success: function (data) {
                    // console.log("Selected State Id:" + $('#statelist').val());
                    // console.log(data);
                    var pslist = '<option value="-1">Select Police Station</option>';
                    for (var i = 0; i < data.length; i++) {
                        pslist = pslist + '<option value=' + data[i].stationID + '>' + data[i].stationName + '</option>';
                    }
                    $('#pslist').html(pslist);
                }
            });

        });
    });
</script>
@section Scripts {

	@* @Scripts.Render("~/bundles/jqueryval") *@
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
	<script src="~/lib/jquery-validation/dist/jquery.validate.js"></script>

}